---
import { attachRouteData } from '../utils/route-data';
import {
	generateStarlightPageRouteData,
	type StarlightPageProps as Props,
} from '../utils/starlight-page';
import Page from './Page.astro';

export type StarlightPageProps = Props;

// TODO: This is a bit tricky to solve.
// We canâ€™t apply other middleware transformations to route data here, so that makes
// the `<StarlightPage>` behaviour quite different from regular pages.
attachRouteData(
	Astro.locals,
	await generateStarlightPageRouteData({ props: Astro.props, url: Astro.url }),
	Astro.url
);
---

<Page><slot /></Page>
